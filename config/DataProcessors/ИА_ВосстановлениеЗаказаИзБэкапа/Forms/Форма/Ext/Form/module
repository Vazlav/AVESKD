
Процедура КнопкаВыполнитьНажатие(Кнопка)
	
	
	Бэкап=ЗначениеИзФайла(Файл);
	//                    ключ         значение
	//Бэкап - структура: Шапка -- структура шапки: имя реквизита - значение реквизита
	//                   товар -- таблица значений табличная часть заказа
	
	НовыйЗаказ=Документы.ИнтернетЗаказ.СоздатьДокумент();
	
	ЗаполнитьЗначенияСвойств(НовыйЗаказ, Бэкап.Шапка);
	
	НовыйЗаказ.Номер="";
	НовыйЗаказ.Дата=ТекущаяДата();
	
	
	НовыйЗаказ.Товар.Загрузить(Бэкап.Товар);
	
	НовыйЗаказ.Комментарий=НовыйЗаказ.Комментарий+" ВОССТАНОВЛЕН ИЗ БЭКАПА!";
	
	НовыйЗаказ.Записать(РежимЗаписиДокумента.Запись);
	
	Сообщить("Восстановлен из бэкапа заказ "+НовыйЗаказ);
	
	
	
	
	
	
	
	
	
	
КонецПроцедуры

Процедура ПолеВвода1НачалоВыбора(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка=ЛОЖЬ;
	
	ДВФ=Новый ДиалогВыбораФайла(РежимДиалогаВыбораФайла.Открытие);
	ДВФ.Фильтр="*.1SData|*.1SData";
	
	ДВФ.ИндексФильтра=0;
	
	ДВФ.Выбрать();
	
	Файл=ДВФ.ПолноеИмяФайла;
	
	
КонецПроцедуры
