
Процедура КнопкаВыполнитьНажатие(Кнопка)
	// Вставить содержимое обработчика.
КонецПроцедуры

Процедура ВыбПериодНажатие(Элемент)
	НастройкаПериода = Новый НастройкаПериода;
	НастройкаПериода.РедактироватьКакИнтервал = Истина;
	НастройкаПериода.РедактироватьКакПериод = Истина;
	НастройкаПериода.ВариантНастройки = ВариантНастройкиПериода.Период;
	НастройкаПериода.УстановитьПериод(НачПериода, ?(КонПериода='0001-01-01', КонПериода, КонецДня(КонПериода)));
	Если НастройкаПериода.Редактировать() Тогда
		НачПериода = НастройкаПериода.ПолучитьДатуНачала();
		КонПериода = НастройкаПериода.ПолучитьДатуОкончания();
	КонецЕсли;
КонецПроцедуры

Процедура ОсновныеДействияФормыНайтиВсеОтказыЗаПериод(Кнопка)
Запрос=Новый Запрос("ВЫБРАТЬ
                    |	ИнтернетЗаказТовар.Товар,
                    |	СУММА(ИнтернетЗаказТовар.Количество) КАК Количество,
                    |	ИнтернетЗаказТовар.ЦенаСоСкидкой,
                    |	ИнтернетЗаказТовар.Ссылка.Склад
                    |ИЗ
                    |	Документ.ИнтернетЗаказ.Товар КАК ИнтернетЗаказТовар
                    |ГДЕ
                    |	ИнтернетЗаказТовар.Ссылка.ПометкаУдаления =Ложь
                    |	И ИнтернетЗаказТовар.Ссылка.Дата МЕЖДУ &Дата1 И &Дата2
                    |	И ИнтернетЗаказТовар.СтатусСтроки = &СтатусСтроки
                    |
                    |СГРУППИРОВАТЬ ПО
                    |	ИнтернетЗаказТовар.Товар,
                    |	ИнтернетЗаказТовар.ЦенаСоСкидкой,
                    |	ИнтернетЗаказТовар.Ссылка.Склад");

	Запрос.УстановитьПараметр("Дата1",НачалоДня(НачПериода));				
	Запрос.УстановитьПараметр("Дата2",КонецДня(КонПериода));
	Запрос.УстановитьПараметр("СтатусСтроки",Перечисления.ИА_СтатусСтрокиЗаказа.Дефектура);
	
	ЭлементыФормы.Дефектура.Значение=Запрос.Выполнить().Выгрузить();
	ЭлементыФормы.Дефектура.СоздатьКолонки();
	
	
	
КонецПроцедуры
