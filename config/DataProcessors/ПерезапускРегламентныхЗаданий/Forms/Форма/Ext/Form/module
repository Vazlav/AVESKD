

Процедура ОсновныеДействияФормыОбновитьСтатус(Кнопка)
	
	
	  МассивРЗ= РегламентныеЗадания.ПолучитьРегламентныеЗадания();
	  
	  
	  ТЗ=Новый ТаблицаЗначений;
	  
	  ТЗ.Колонки.Добавить("Задание");
	  ТЗ.Колонки.Добавить("Запущено");
	  
	  Для Каждого Задание Из МассивРЗ Цикл
		  Стр=ТЗ.Добавить();
		  Стр.Задание=Задание;
		  Стр.Запущено=Задание.Использование;
	  КонецЦикла;
	  
	  ЭлементыФормы.ТабличноеПоле1.Значение=ТЗ;
	  ЭлементыФормы.ТабличноеПоле1.СоздатьКолонки();
	  
	
		
	
	
	
	
	
	
	
	
	
	
КонецПроцедуры

Процедура КоманднаяПанель1Остановить(Кнопка)
	ТекЗадание=ЭлементыФормы.ТабличноеПоле1.ТекущаяСтрока.Задание;
	ТекЗадание.Использование=ЛОжь;
	ТекЗадание.Записать();
	ОсновныеДействияФормыОбновитьСтатус(Кнопка);
КонецПроцедуры

Процедура КоманднаяПанель1Запустить(Кнопка)
	ТекЗадание=ЭлементыФормы.ТабличноеПоле1.ТекущаяСтрока.Задание;
	ТекЗадание.Использование=Истина;
	ТекЗадание.Записать();
	ОсновныеДействияФормыОбновитьСтатус(Кнопка);
КонецПроцедуры

Процедура КоманднаяПанель1Перезапустить(Кнопка)
	// Вставить содержимое обработчика.
	ТекЗадание=ЭлементыФормы.ТабличноеПоле1.ТекущаяСтрока.Задание;
	
	ТекЗадание.Использование=ЛОжь;
	ТекЗадание.Записать();
	
	ОсновныеДействияФормыОбновитьСтатус(Кнопка);
	
	ТекЗадание.Использование=Истина;
	ТекЗадание.Записать();
	
	ОсновныеДействияФормыОбновитьСтатус(Кнопка);
 
	
КонецПроцедуры

Процедура ПриОткрытии()
	ОсновныеДействияФормыОбновитьСтатус("");
КонецПроцедуры
