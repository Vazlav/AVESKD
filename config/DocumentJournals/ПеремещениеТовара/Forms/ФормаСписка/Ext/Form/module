Процедура УстановитьОтбор(Значение,Отключить = Ложь)
	 

	Если Отключить Тогда
		НомерДокумента = 0;
		ЖурналДокументовСписок.Отбор.Сбросить();
						
		Возврат;
	КонецЕсли;
	
		ЖурналДокументовСписок.Отбор.Номер.Использование = Истина;		
		ЖурналДокументовСписок.Отбор.Номер.ВидСравнения = ВидСравнения.Равно;
		ЖурналДокументовСписок.Отбор.Номер.Значение = Число(Значение);
	
	
		

КонецПроцедуры



Процедура ЗначениеОтбораПриИзменении(Элемент)
КонецПроцедуры
Функция обИзменитьЕслиНовое(ТекущееЗначение, НовоеЗначение) Экспорт
	
	Если (ТекущееЗначение=Неопределено) <> (НовоеЗначение=Неопределено) Тогда
		ТекущееЗначение = НовоеЗначение;
	ИначеЕсли ТекущееЗначение <> НовоеЗначение Тогда
		ТекущееЗначение = НовоеЗначение;
	КонецЕсли;
	
КонецФункции



Процедура НомерДокументаОкончаниеВводаТекста(Элемент, Текст, Значение, СтандартнаяОбработка)
	
	НомерДокумента=Элемент.Значение;
	
	Состояние("Поиск документа №"+НомерДокумента);
	
	ТХТ="ВЫБРАТЬ
	    |	ПеремещениеТовара.Ссылка
	    |ИЗ
	    |	Документ.ПеремещениеТовара КАК ПеремещениеТовара
	    |ГДЕ
	    |	ПеремещениеТовара.Дата МЕЖДУ &НачГода И &КонГода
	    |	И ПеремещениеТовара.Номер = &Номер";
		
	Запрос=Новый Запрос;
	Запрос.Текст=ТХТ;
	Запрос.УстановитьПараметр("НачГода",НачалоГода(ТекущаяДата()));	
	Запрос.УстановитьПараметр("КонГода",КонецГода(ТекущаяДата()));	
	Запрос.УстановитьПараметр("Номер",НомерДокумента);
	ТЗ=Запрос.Выполнить().Выгрузить();
	Если ТЗ.Количество()=0 ТОгда
		ПРедупреждение("Не существует документа с номером "+НомерДокумента);
		Возврат;
	КонецЕсли; 
	Состояние("Открываем документ №"+НомерДокумента);
	ТЗ.Получить(0).Ссылка.ПолучитьОбъект().ПолучитьФорму( "ФормаДокумента").Открыть();
КонецПроцедуры

Процедура ПриПовторномОткрытии(СтандартнаяОбработка)
	эТАфОРМА.ТекущийЭлемент	=ЭтаФорма.ЭлементыФормы.НомерДокумента;
КонецПроцедуры

Процедура ЖурналДокументовСписокПередУстановкойПометкиУдаления(Элемент, Отказ)
	
	Если Элемент.ТекущаяСтрока.ПометкаУдаления = Ложь Тогда
		Предупреждение("Помечаем документ кнопкой на панели инструментов!");
		Отказ = Истина;
	КонецЕсли
	
КонецПроцедуры

Процедура ДействияФормыПометитьНаУдаление(Кнопка)
	
	Если Вопрос("Пометить документ на удаление?",РежимДиалогаВопрос.ДаНет,0,КодВозвратаДиалога.Нет,"Пометить на удаление?") = КодВозвратаДиалога.Да Тогда
		Док = ЭлементыФормы.ЖурналДокументовСписок.ТекущаяСтрока.ПолучитьОбъект();
		Док.УстановитьПометкуУдаления(Истина);
		ОМ15_ОчисткаРезерваДокумента(Док.Ссылка);
	КонецЕсли;
	
КонецПроцедуры


//УстановитьОтбор();
//	
//	добъект=Этаформа.ЭлементыФормы.ЖурналДокументовСписок.ТекущаяСтрока.ссылка.получитьОбъект();

//	ЭтаФорма.ЭлементыФормы.НомерДокумента.АктивизироватьПоУмолчанию=Истина;
//	фд=добъект.ПолучитьФорму();
//	ФД.открыть();


//	УстановитьОтбор(Истина);
//	ЭтаФорма.ЭлементыФормы.НомерДокумента.АктивизироватьПоУмолчанию=Истина;

