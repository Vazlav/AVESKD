
Процедура ДокументСписокПриАктивизацииСтроки(Элемент)
	
	Если ПоказыватьИтоги Тогда
		Попытка
			
			Если Итоги_по_кассам=3 ТОгда
				ТЗ=ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка.Бухгалтерия.Выгрузить();
				//ЭлементыФормы.ТабличноеПоле1.Данные=ЭлементыФормы.ДокументСписок.ТекущиеДанные.Бухгалтерия;
				ЭлементыФормы.ТабличноеПоле1.Значение=ТЗ;
				ЭлементыФормы.ТабличноеПоле1.СоздатьКолонки();
				
			КонецЕсли;
			
			Если Итоги_по_кассам=1 ТОгда
				ТЗ=ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка.Бухгалтерия.Выгрузить();
				ТЗ.Свернуть("Касса,ЗетОчет,ТипОплаты","СуммаБезСкидки,СуммаСоСкидкой,СуммаСкидки,СуммаНДСБезСкидки,СуммаНДДСоСкидкой,ЗакупочнаяСНДС,НДСЗакуп");
				ЭлементыФормы.ТабличноеПоле1.Значение=ТЗ;
				ЭлементыФормы.ТабличноеПоле1.СоздатьКолонки();
			КонецЕсли;	
			
			Если Итоги_по_кассам=2 ТОгда
				ТЗ=ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка.Бухгалтерия.Выгрузить();
				ТЗ.Свернуть("ТипОплаты","СуммаБезСкидки,СуммаСоСкидкой,СуммаСкидки,СуммаНДСБезСкидки,СуммаНДДСоСкидкой,ЗакупочнаяСНДС,НДСЗакуп");
				ЭлементыФормы.ТабличноеПоле1.Значение=ТЗ;
				ЭлементыФормы.ТабличноеПоле1.СоздатьКолонки();
			КонецЕсли;	
		Исключение
			ТабличноеПоле1.Очистить();
		КонецПопытки;
		
		
		
		ЭлементыФормы.ТабличноеПоле1.Подвал=Истина;
		
		
		ЭлементыФормы.ТабличноеПоле1.Колонки.СуммаБезСкидки.ТекстПодвала = ТабличноеПоле1.Итог("СуммаБезСкидки");
		ЭлементыФормы.ТабличноеПоле1.Колонки.СуммаСоСкидкой.ТекстПодвала = ТабличноеПоле1.Итог("СуммаСоСкидкой");
		ЭлементыФормы.ТабличноеПоле1.Колонки.СуммаСкидки.ТекстПодвала = ТабличноеПоле1.Итог("СуммаСкидки");
		ЭлементыФормы.ТабличноеПоле1.Колонки.СуммаНДСБезСкидки.ТекстПодвала = ТабличноеПоле1.Итог("СуммаНДСБезСкидки");
		ЭлементыФормы.ТабличноеПоле1.Колонки.СуммаНДДСоСкидкой.ТекстПодвала = ТабличноеПоле1.Итог("СуммаНДДСоСкидкой");
		ЭлементыФормы.ТабличноеПоле1.Колонки.ЗакупочнаяСНДС.ТекстПодвала = ТабличноеПоле1.Итог("ЗакупочнаяСНДС");
		ЭлементыФормы.ТабличноеПоле1.Колонки.НДСЗакуп.ТекстПодвала = ТабличноеПоле1.Итог("НДСЗакуп");
	КонецЕсли;
	
	
	
КонецПроцедуры

Процедура ПоказыватьИтогиПриИзменении(Элемент)
	
	Если НЕ ПоказыватьИтоги Тогда
		ТабличноеПоле1.Очистить();
	КонецЕсли;
	
КонецПроцедуры


Итоги_по_кассам=2;