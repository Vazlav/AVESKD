
Процедура ПриОткрытии()
	
	Если ЭтоНовый() Тогда
		Статус = "Открыт";
		ВидТренинга = Перечисления.ВидыТренингов.СпецПроект;
	КонецЕсли;
	
	ВидТренингаПриИзменении("");
	
КонецПроцедуры

Процедура ВидТренингаПриИзменении(Элемент)
	
	Если ВидТренинга = Перечисления.ВидыТренингов.Произвольный Тогда
		ЭлементыФормы.Тренинг.Видимость = Истина;
		ЭлементыФормы.НадписьТренинг.Видимость = Истина;
	Иначе
		ЭлементыФормы.Тренинг.Видимость = Ложь;	
		ЭлементыФормы.НадписьТренинг.Видимость = Ложь;
	КонецЕсли;
	
КонецПроцедуры

Процедура КоманднаяПанель1ПодобратьСотрудников(Кнопка)
	
	КлючУник=  Новый   УникальныйИдентификатор();
	ФормаПодбора= Справочники.СотрудникиАптек.ПолучитьФорму("ФормаПодбора","",КлючУник);
	ФормаПодбора.МножественныйВыбор= ИСТИНА;
	ФормаПодбора.ВладелецФормы=ЭтаФорма;
	ФормаПодбора.ЗакрыватьПриЗакрытииВладельца=Истина;
	ФормаПодбора.ОткрытьМодально(0);	
	
КонецПроцедуры

Процедура ОбработкаВыбора(ЗначениеВыбора, Источник)
	
	Если ТипЗнч(ЗначениеВыбора)=Тип("ТаблицаЗначений") Тогда
		Для Ы=0 По ЗначениеВыбора.Количество()-1 Цикл
			
			СтрТЗ= ЗначениеВыбора.Получить(Ы) ;
			НоваяСтрока = Состав.Добавить();
			НоваяСтрока.Аптека = СтрТЗ.Аптека;
			НоваяСтрока.Сотрудник = СтрТЗ.Сотрудник;
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

Процедура СоставСотрудникПриИзменении(Элемент)
	
	ТекСтрока = ЭлементыФормы.Состав.ТекущаяСтрока;
	ТекСтрока.Аптека = Элемент.Значение.Владелец;
	
КонецПроцедуры


ЭлементыФормы.Статус.СписокВыбора.Добавить("Открыт");
ЭлементыФормы.Статус.СписокВыбора.Добавить("Закрыт");