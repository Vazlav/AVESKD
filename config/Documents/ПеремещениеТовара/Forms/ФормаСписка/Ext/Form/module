
Процедура ДокументСписокПередУстановкойПометкиУдаления(Элемент, Отказ)
	
	Док=Элемент.ТекущаяСтрока ;
	ДокОбъект=Док.ПолучитьОбъект();
	
	
	

	Если Док.ПометкаУдаления=Ложь Тогда
		Ответ=Вопрос("Пометить документ на удаление?",РежимДиалогаВопрос.ДаНет,0,КодВозвратаДиалога.ДА,"Пометить на удаление?");
		Если Ответ=КодВозвратаДиалога.Да Тогда
			ОМ15_ОчисткаРезерваДокумента(Док);
			ДокОбъект.УстановитьПометкуУдаления(ИСтина);
		КонецЕсли;	
		Отказ=Истина;

	Иначе
		Ответ=Вопрос("Отменить пометку документа на удаление?",РежимДиалогаВопрос.ДаНет,0,КодВозвратаДиалога.ДА,"Отменить пометку на удаление?");
		Если Ответ=КодВозвратаДиалога.Да тогда
			ОМ15_ДобавитьДокументЦеликомВРезервПодбора (Док);
			ДокОбъект.УстановитьПометкуУдаления(Ложь);
		КонецЕсли;  
		Отказ=Истина;

	КонецЕсли; 
	
КонецПроцедуры

Процедура ОтборОтправительПриИзменении(Элемент)
	
	ЕстьОтборПоСкладу=ЗначениеЗаполнено(Элемент.Значение);
	Если ТипЗнч(ЭлементыФормы.Склад.Значение)=Тип("СписокЗначений") ТОгда
		Отбор.Склад.ВидСравнения=ВидСравнения.ВСписке;
	Иначе
		Отбор.Склад.ВидСравнения=ВидСравнения.Равно;
	КонецЕсли; 
	
	Отбор.Склад.Использование=ЕстьОтборПоСкладу;

КонецПроцедуры

Процедура ОтборПолучательПриИзменении(Элемент)
	
	ЕстьОтборПоСкладу=ЗначениеЗаполнено(Элемент.Значение);
	Если ТипЗнч(ЭлементыФормы.СкладПолучатель.Значение)=Тип("СписокЗначений") ТОгда
		Отбор.СкладПолучатель.ВидСравнения=ВидСравнения.ВСписке;
	Иначе
		Отбор.СкладПолучатель.ВидСравнения=ВидСравнения.Равно;
	КонецЕсли; 
	
	Отбор.СкладПолучатель.Использование=ЕстьОтборПоСкладу;
	
	
КонецПроцедуры

Процедура Кнопка1Нажатие(Элемент)
	
	Отбор.Склад.Использование=Ложь;
	Отбор.СкладПолучатель.Использование=Ложь;

	ЭлементыФормы.Склад.Значение = Справочники.МестаХранения.ПустаяСсылка();
	ЭлементыФормы.СкладПолучатель.Значение 	 = Справочники.МестаХранения.ПустаяСсылка();
	
	
КонецПроцедуры
