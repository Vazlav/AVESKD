
Процедура ПриЗаписи(Отказ)
	ТекстЗапроса =
	"ВЫБРАТЬ
	|	КОЛИЧЕСТВО(1) КАК КоличествоЗаписей
	|ИЗ
	|	РегистрСведений.ИА_ЦО_АлгоритмыЗЦПоОборачиваемостиПервыйУровень КАК ИА_ЦО_АлгоритмыЗЦПоОборачиваемостиПервыйУровень
	|ГДЕ
	|	ИА_ЦО_АлгоритмыЗЦПоОборачиваемостиПервыйУровень.ГУИД = &ГУИД";
	Запрос = Новый Запрос;
	Запрос.Текст = ТекстЗапроса;
	Запрос.УстановитьПараметр("ГУИД", Гуид);
	Выборка = Запрос.Выполнить().Выбрать();
	Выборка.Следующий();
	Если Выборка.КоличествоЗаписей > 1 Тогда
		Гуид = Новый УникальныйИдентификатор()
	КонецЕсли;
	
КонецПроцедуры

Процедура ПередЗаписью(Отказ)
	
	Если Гуид = "" Тогда
		Гуид = Новый УникальныйИдентификатор()	
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Ответственный) Тогда
		Ответственный = ПараметрыСеанса.ТекущийСотр
	КонецЕсли; 
	
КонецПроцедуры
