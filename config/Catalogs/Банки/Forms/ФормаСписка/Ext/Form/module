////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ, ВЫЗЫВАЕМЫЕ ИЗ ЭЛЕМЕНТОВ ФОРМЫ

// Обработчик события "ПередОткрытием" формы
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)

	СправочникСписок.Колонки.Добавить("Телефоны");
	СправочникСписок.Колонки.Добавить("Адрес");

КонецПроцедуры // ПередОткрытием()

// Обработчик события "ПриАктивизации" реквизита "Список"
Процедура СправочникСписокПриАктивизацииСтроки(Элемент)

	ИнформационнаяНадписьТелефоны="Телефоны: ";
	ИнформационнаяНадписьАдрес="Адрес: ";

	Если Элемент.ТекущиеДанные <> Неопределено И НЕ Элемент.ТекущиеДанные.ЭтоГруппа Тогда
		ИнформационнаяНадписьТелефоны="Телефоны: "+Элемент.ТекущиеДанные.Телефоны;
		ИнформационнаяНадписьАдрес="Адрес: "+Элемент.ТекущиеДанные.Адрес;
	КонецЕсли;
	
	ЭлементыФормы.СправочникДерево.ТекущаяСтрока = ЭлементыФормы.СправочникСписок.ТекущийРодитель;
	
КонецПроцедуры // СправочникСписокПриАктивизацииСтроки()

// Обработчик действия "ДействиеЗагрузить" командной панели
Процедура ДействияФормыДействиеЗагрузить(Элемент)

	Обработки.ЗагрузкаБанков.ПолучитьФорму("ФормаКлассификатора").Открыть();

КонецПроцедуры // КоманднаяПанельФормыДействиеЗагрузить()

Процедура ПриОткрытии()
	
	Если НЕ ЕстьЭлементыВСправочнике("Банки") Тогда
		ОтветНаВопрос = Вопрос("Список банков пуст. Хотите произвести загрузку банков из классификатора?", РежимДиалогаВопрос.ДаНет);
		Если ОтветНаВопрос = КодВозвратаДиалога.Да Тогда
			Обработки.ЗагрузкаБанков.ПолучитьФорму("ФормаКлассификатора").ОткрытьМодально();
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

