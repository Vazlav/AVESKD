
Процедура ОсновныеДействияФормыВыбрать(Кнопка)
	
	СтруктураОповещения=Новый Структура();
	СтруктураОповещения.Вставить("ИмяТаблицыДокумента", ИмяТаблицыДокумента);
	
	Если ЭтоСписокЗначений Тогда
		СтруктураОповещения.Вставить("Значение", СписокЗначений.ВыгрузитьЗначения()); //Массив значений
	Иначе		
		СтруктураОповещения.Вставить("Значение", ОдиночноеЗначение);
	КонецЕсли;
	
	ОповеститьОВыборе(СтруктураОповещения);
	
КонецПроцедуры

Процедура КоманднаяПанель1Очистить(Кнопка)
	Если Вопрос("Очистить список полностью?",РежимДиалогаВопрос.ДаНет)=КодВозвратаДиалога.Да Тогда
		СписокЗначений.Очистить();
	КонецЕсли;
КонецПроцедуры

Процедура ПриОткрытии()
	// Вставить содержимое обработчика.
	
	ЭлементыФормы.Панель1.Страницы.ВыборОдногоЗначения.Видимость=Не ЭтоСписокЗначений;
	ЭлементыФормы.Панель1.Страницы.ВыборСпискаЗначений.Видимость=ЭтоСписокЗначений;
	
	
	Если ЭтоСписокЗначений Тогда
		ХЗ = ЗначениеХЗ.Получить();
		Если НЕ ХЗ = Неопределено Тогда
			СписокЗначений.ТипЗначения=СтрокаТипЗначения;
			СписокЗначений.ЗагрузитьЗначения(ХЗ);
		КонецЕсли;
	Иначе
		
		ЭлементыФормы.ОдиночноеЗначение.ОграничениеТипа=СтрокаТипЗначения;
		ЭлементыФормы.ОдиночноеЗначение.Значение=ЭлементыФормы.ОдиночноеЗначение.ОграничениеТипа.ПривестиЗначение("");
	КонецЕсли;	
	
	
	
КонецПроцедуры

Процедура КоманднаяПанель1Добавить(Кнопка)
	
	НовоеЗначениеСписка="";
	ВвестиЗначение( НовоеЗначениеСписка,"Выберите значение",нОВЫЙ ОписаниеТипов(СтрокаТипЗначения));
	СписокЗначений.Добавить(НовоеЗначениеСписка);
	
КонецПроцедуры

Процедура КоманднаяПанель1Удалить(Кнопка)
	
	УдаляемаяСтрока=ЭлементыФормы.СписокЗначений.ТекущаяСтрока;
	Если УдаляемаяСтрока<>Неопределено Тогда
		СписокЗначений.Удалить(УдаляемаяСтрока);
	КонецЕсли;
	
КонецПроцедуры

Процедура КоманднаяПанель1УбратьДубли(Кнопка)
	НовыйСписокЗначений=Новый СписокЗначений;
	
	ДЛя Каждого Стр Из СписокЗначений Цикл
		
		Если НовыйСписокЗначений.НайтиПоЗначению(Стр.Значение)=Неопределено ТОгда
			НовыйСписокЗначений.Добавить(Стр.Значение);
		КонецЕСли;
	КонецЦикла;	
	
	СписокЗначений.Очистить();
	СписокЗначений.ЗагрузитьЗначения(НовыйСписокЗначений.ВыгрузитьЗначения());
	
КонецПроцедуры
