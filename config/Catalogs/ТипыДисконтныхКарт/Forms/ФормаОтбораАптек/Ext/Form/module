
Процедура ОсновныеДействияФормыКнопкаОК(Кнопка)		
	Закрыть(Построитель); 	
КонецПроцедуры

Процедура ПриОткрытии() 	
	Построитель.ЗаполнитьНастройки();  	
КонецПроцедуры

Процедура КоманднаяПанель2ЗагрузитьСписокКодов(Кнопка)
	
	СписокКодов = Новый СписокЗначений();
	СписокКодовСтрока = "";
	
	Если Не ВвестиСтроку(СписокКодовСтрока, "Введите список кодов", , Истина) Тогда
		Возврат;
	КонецЕсли;	
	
	Для Счетчик = 1 По СтрЧислоСтрок(СписокКодовСтрока) Цикл	
		 
		ТекКод = УбратьЛишниеСимволы(СтрПолучитьСтроку(СписокКодовСтрока, Счетчик));
		
		Если ЗначениеЗаполнено(ТекКод) Тогда
		 	СписокКодов.Добавить(Число(ТекКод));
		КонецЕсли;
		 
	КонецЦикла;
	
	ОтборПоКоду = Построитель.Отбор.Найти("Код");
	
	Если ОтборПоКоду = Неопределено ТОгда
		ОтборПоКоду = Построитель.Отбор.Добавить("Код");
	КонецЕсли;	
	
	ОтборПоКоду.ВидСравнения = ВидСравнения.ВСписке;
	ОтборПоКоду.Использование = Истина;
	ОтборПоКоду.Значение = СписокКодов;
	
КонецПроцедуры

Функция УбратьЛишниеСимволы(ИсходнаяСтрока)
	
	НовСтрока = "";
	ПравильныеСимволы = "0123456789";
	
	Для Сч = 1 по СтрДлина(ИсходнаяСтрока) Цикл
		ТекСимв = Сред(ИсходнаяСтрока, Сч, 1);
		Если Найти(ПравильныеСимволы, ТекСимв) > 0 Тогда
			НовСтрока = НовСтрока + ТекСимв;
		КонецЕсли;
	КонецЦикла;
	
	Возврат НовСтрока;
	
КонецФункции 

Построитель.Текст =
"ВЫБРАТЬ
|	МестаХранения.Ссылка,
|	МестаХранения.Представление
|ИЗ
|	Справочник.МестаХранения КАК МестаХранения
|{ГДЕ
|	МестаХранения.Ссылка.*,
|	МестаХранения.ПометкаУдаления,
|	МестаХранения.Родитель.*,
|	МестаХранения.ЭтоГруппа,
|	МестаХранения.Код,
|	МестаХранения.Наименование,
|	МестаХранения.АвтозаказНаОфисе,
|	МестаХранения.АвтозаказРекламныхАкций,
|	МестаХранения.АдресАптекиНаСайте,
|	МестаХранения.АдресКамеры,
|	МестаХранения.АссортиментноеПланирование,
|	МестаХранения.Бренд.*,
|	МестаХранения.БыстрыйИнтернет,
|	МестаХранения.ВерсияАМ,
|	МестаХранения.ВерсияКМ,
|	МестаХранения.ВыгружатьМинМакс,
|	МестаХранения.Город.*,
|	МестаХранения.ГрафикИнкассации,
|	МестаХранения.ГруппаТТ.*,
|	МестаХранения.ДатаЗакрытия,
|	МестаХранения.ДатаПерехода,
|	МестаХранения.Делфи,
|	МестаХранения.Дом,
|	МестаХранения.КакДоехать,
|	МестаХранения.КаталогОбмена,
|	МестаХранения.КатегорияUMG.*,
|	МестаХранения.Код366,
|	МестаХранения.Код77,
|	МестаХранения.Комитент.*,
|	МестаХранения.Менеджер.*,
|	МестаХранения.МестоРасположения.*,
|	МестаХранения.Метро.*,
|	МестаХранения.Мэйл,
|	МестаХранения.НаименованиеПоКлассификатору,
|	МестаХранения.НаПрямыхПоставках,
|	МестаХранения.НеВыгружатьНакладныеАвтоматически,
|	МестаХранения.НомерАптеки,
|	МестаХранения.ОбщаяПлощадь,
|	МестаХранения.Округ.*,
|	МестаХранения.ОсуществляетБронирование,
|	МестаХранения.ОсуществляетДоставкуКлиенту,
|	МестаХранения.ОффлайнАпетка.*,
|	МестаХранения.ПлощадьТорговогоЗала,
|	МестаХранения.ПринадлежностьКТЦМаркетинг.*,
|	МестаХранения.ПровайдерИнтернет.*,
|	МестаХранения.ПровайдерТелефон.*,
|	МестаХранения.РаботаТолькоПоКомиссии,
|	МестаХранения.Регион.*,
|	МестаХранения.РежимРаботы.*,
|	МестаХранения.СобственныйПринтерШтрихкода,
|	МестаХранения.СортировкаДляФинОтдела.*,
|	МестаХранения.СсылкаНаЯндексКарты,
|	МестаХранения.СторонаДоговораКомиссии.*,
|	МестаХранения.СубъектРФ.*,
|	МестаХранения.ТелефонДляSMSИнформирования,
|	МестаХранения.ТелефонДляСправки,
|	МестаХранения.ТипНалогообложения.*,
|	МестаХранения.ТипСклада.*,
|	МестаХранения.Улица,
|	МестаХранения.Фирма.*,
|	МестаХранения.ФорматПоПлощади.*,
|	МестаХранения.ФорматПоСКП.*,
|	МестаХранения.ФорматПоССП.*,
|	МестаХранения.РаботаЧерезКонвертер,
|	МестаХранения.РасчетАвтозаказаБезПересчетаСкоростей,
|	МестаХранения.НомерСумки,
|	МестаХранения.ВремяЗаезда,
|	МестаХранения.СпособОбмена.*}";
