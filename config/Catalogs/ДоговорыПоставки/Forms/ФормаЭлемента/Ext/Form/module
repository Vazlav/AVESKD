
Процедура ПередЗаписью(Отказ)
	
	Если Фирма.Пустая() или ПустаяСтрока(Номер) или Дата = ОМ3_ПустаяДата() Тогда
		Предупреждение("Есть незаполненные реквизиты! Элемент не может быть записан");
		Отказ = истина;
	КонецЕсли;
	
КонецПроцедуры

Процедура ФирмаОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
	
	Если НЕ ЭтоНовый() Тогда
		Если Фирма <> ВыбранноеЗначение и НЕ Фирма.Пустая()	Тогда
			Предупреждение("Нельзя изменять фирму в существующем договоре!");
			ВыбранноеЗначение = Фирма;	
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриОткрытии()
	
	Если НЕ ЭтоНовый() и ЗначениеЗаполнено(uuid_mdm) Тогда
		
		Для каждого ЭлемФормы Из ЭлементыФормы Цикл
			ЭлемФормы.Доступность = Ложь;
		КонецЦикла; 
		
		// Поля исключеня (доступны)
		ЭлементыФормы.ВидПоступленияТовара.Доступность				= Истина;
		ЭлементыФормы.ИспользоватьДляОбратнойРеализации.Доступность	= Истина;
		ЭлементыФормы.ОсновныеДействияФормы.Доступность				= Истина;
		
	КонецЕсли; 
	
КонецПроцедуры


