
Процедура КаталогВыгрузкиНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	Режим = РежимДиалогаВыбораФайла.ВыборКаталога;
	ДОФ = Новый ДиалогВыбораФайла(Режим);
	
	Если ДОФ.Выбрать() Тогда
		КаталогВыгрузки=ДОФ.Каталог;
	Иначе
		Возврат;
	КонецЕсли;
	
КонецПроцедуры

Процедура КоманднаяПанель1ПодобратьАптеки(Кнопка)
	
	Если Аптеки.Количество() > 0 Тогда
		Режим = РежимДиалогаВопрос.ДаНет;
		Ответ = Вопрос("Существующие строки будут удалены. Продолжить?", Режим, 0);
		Если Ответ = КодВозвратаДиалога.Нет Тогда
			Возврат;			
		КонецЕсли;
		
		Аптеки.Очистить();
		
	КонецЕсли;
	
	Обработка = Обработки.ПодборАптекВТабличнуюЧасть.Создать();
	ФормаОбработки = Обработка.ПолучитьФорму("Форма", , Новый УникальныйИдентификатор);
	МассивПодобранныхАптек = ФормаОбработки.ОткрытьМодально();
	
	Если МассивПодобранныхАптек = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Для Каждого ТекАптека Из МассивПодобранныхАптек Цикл		
		НовСтрока = Аптеки.Добавить();
		НовСтрока.Аптека = ТекАптека;
		НовСтрока.Код = Формат(ТекАптека.Код, "ЧГ=0");
		
	КонецЦикла;
	
КонецПроцедуры
